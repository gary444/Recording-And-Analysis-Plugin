<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Recording Plugin: Record, Replay  &amp; Analysis Plugin</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript">var page_layout=1;</script>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="side-nav" class="ui-resizable side-nav-resizable"><!-- do not remove this div, it is closed by doxygen! -->
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="Icon_resized.png"/></td>
  <td id="projectalign">
   <div id="projectname">Recording Plugin<span id="projectnumber">&#160;0.8.3</span>
   </div>
   <div id="projectbrief">This plugin can be used to record &amp; replay time series data on windows, linux &amp; android (i.e. on the Oculus Quest).</div>
  </td>
 </tr>
   <tr><td colspan="2">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td></tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Record, Replay &amp; Analysis Plugin </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md__r_e_a_d_m_e"></a> <a href="https://github.com/AnBenLa/UnityRecordingPlugin/actions/workflows/cmake.yml"><img src="https://github.com/AnBenLa/UnityRecordingPlugin/actions/workflows/cmake.yml/badge.svg" alt="Build" style="pointer-events: none;" class="inline"/></a></p>
<div class="image">
<img src="Icon_resized.png" alt=""/>
<div class="caption">
Logo</div></div>
    <p>This plugin enables the recording and replaying of time series data on Windows, Linux, and Android platforms (e.g., Oculus Quest). It supports recording of transforms, scene graph structure, sound, and generic time series data. Enhanced features include simultaneous multiple playback capabilities and the ability to record new data while replaying existing recordings, facilitated by unique recorder IDs. In addition, it supports efficient analysis functionalities that allow the analysis of created recordings during playback. Different types of analysis queries (distance queries, velocity queries, ...) can be defined individually or combined for the investigation of complex behaviour.</p>
<p><b>Functionalities:</b></p><ul>
<li>Efficient recording and playback of transform, sound and generic data</li>
<li>Complex analysis of behaviour through composable analysis queries that can be analyzed during playback</li>
</ul>
<p><b>Possible use cases:</b> <br  />
</p><ul>
<li>Integration into 3D engines such as Unity or Unreal Engine to record &amp; replay user interactions, studies, meetings, gameplay, etc.</li>
<li>Usage as a recorder for generic data i.e. to log messages, record float buffer, etc. <br  />
</li>
</ul>
<p><b>Requirements</b>: <br  />
</p><ul>
<li><a href="https://gitforwindows.org/">git</a></li>
<li><a href="https://cmake.org/download/">cmake</a></li>
<li><a href="http://gnuwin32.sourceforge.net/packages/make.htm">make for windows</a> <br  />
</li>
<li>compiler and cmake generator i.e. <a href="https://sourceforge.net/projects/mingw-w64/">MinGW-w64</a></li>
</ul>
<p><b>Architecture</b> <img src="Architecture.png" alt="" class="inline" title="Architecture"/>    </p>
<h1><a class="anchor" id="autotoc_md1"></a>
Setup:</h1>
<p><b>Step 1</b>: Clone the repository <b>recursively</b> to ensure all submodules are included: </p><div class="fragment"><div class="line">git clone --recursive https://github.com/AnBenLa/UnityRecordingPlugin</div>
</div><!-- fragment --><p><b>Step 2</b>: Update the paths in CMakeLists.txt to match your setup (UNITY_PLUGINS_DIR).</p>
<p><b>Step 3</b>: Build the plugin using the following commands: </p><div class="fragment"><div class="line">cd UnityRecordingPlugin</div>
<div class="line">mkdir build</div>
<div class="line">cd build</div>
<div class="line">cmake -DCMAKE_BUILD_TYPE=Release ..</div>
<div class="line">cmake --build . --target RecordingPlugin</div>
</div><!-- fragment --><p><b>Step 4</b>: Integrate with your project by using the exposed endpoints from RecordingPlugin.cpp. Example in C#: </p><div class="fragment"><div class="line">[DllImport(&quot;RecordingPlugin&quot;)]</div>
<div class="line">private static extern bool CreateNewRecordingFile(int recorder_id, char* recording_name, int recording_name_length);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md2"></a>
Setup for Android (.so):</h1>
<p><b>Step 1</b>: Clone the repository <b>recursively</b> to ensure all submodules are included: </p><div class="fragment"><div class="line">git clone --recursive https://github.com/AnBenLa/UnityRecordingPlugin</div>
</div><!-- fragment --><p><b>Step 2</b>: Update the paths in CMakeLists.txt to match your setup (UNITY_PLUGINS_DIR).</p>
<p><b>Step 3</b>: Configure target architecture in <a class="el" href="build_android_8bat.html">buildAndroid.bat</a> (ANDROID_ABI, ANDROID_PLATFORM)</p>
<p><b>Step 4</b>: Build the plugin for Android using Windows: </p><div class="fragment"><div class="line">cd UnityRecordingPlugin</div>
<div class="line">.\buildAndroid.bat</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md3"></a>
Record &amp; Replay Pipeline:</h1>
<p>Note: The following code is pseudo-code and demonstrates general usage. It cannot be directly copy-pasted into your project.</p>
<p><b>Configure Parameters</b>: </p><div class="fragment"><div class="line">SetRecordingMaxBufferSize(recorderId, recordingMaxBufferSize);</div>
<div class="line">SetSoundRecordingMaxBufferSize(recorderId, recordingSoundMaxBufferSize);</div>
<div class="line">SetReplayBufferNumber(recorderId, replayBufferNumber);</div>
<div class="line">SetReplayBufferStoredTimeInterval(recorderId, replayBufferTimeInterval);</div>
</div><!-- fragment --><p> <b>Begin <a class="el" href="struct_recording.html">Recording</a></b>: </p><div class="fragment"><div class="line">CreateNewRecordingFile(recorderId, directory, directory.Length, recordName, recordName.Length);</div>
<div class="line">RecordObjectAtTimestamp(recorderId, name, name.Length, id, matrixDTO, recordTime, infoDTO);</div>
<div class="line">RecordSoundDataAtTimestamp(recorderId, audioData, recordedSamples, sampleRate, startIndex, recordTime, audioSourceId);</div>
<div class="line">StopRecording(recorderId);</div>
</div><!-- fragment --><p><b>Begin Replay</b>: </p><div class="fragment"><div class="line">OpenExistingRecordingFile(recorderId, directory, directory.Length, recordName, recordName.Length);</div>
<div class="line">fixed (float* p = matrixDTO)</div>
<div class="line">{</div>
<div class="line">    fixed (int* u = infoDTO)</div>
<div class="line">    {</div>
<div class="line">        GetTransformAndInformationAtTime(recorderId, name, name.Length, id, time, (IntPtr) p, (IntPtr) u)</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line">fixed (float* p = soundDTO)</div>
<div class="line">{</div>
<div class="line">    GetSoundChunkForTime(recorderId, 0, loadTime, (IntPtr) p);</div>
<div class="line">}</div>
<div class="line">StopReplay(recorderId);</div>
</div><!-- fragment --><p><b>Debugging on Windows</b>: <br  />
 Plugin output is logged both in the Unity console and the Unity editor log file, which is located at:``` </p><div class="fragment"><div class="line">%LOCALAPPDATA%\Unity\Editor\Editor.log</div>
</div><!-- fragment --><p><b>Debugging on Android</b>: <br  />
 The debug output of the plugin can be read using the <a href="https://developer.android.com/studio/command-line/adb">android debug bridge</a>: </p><div class="fragment"><div class="line">adb logcat</div>
</div><!-- fragment --> </div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
